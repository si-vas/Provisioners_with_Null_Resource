If you want deploy multiple servers with file provisioning and execute remote-exec userdata just clone this repo and use in Terraform.

Before validating the code copy the pem key to the local repo.

If you want deploy single server is required with file provisioning and execute remote-exec userdata modify the required comment out lined and implement.
